<div class="refresh-progress-bar">
  <div class="refresh-progress-fill" [style.width]="progress + '%'"></div>
</div>
<div *ngIf="programmaError" class="error-message">
  Kan programma niet ophalen. Controleer je internetverbinding.
</div>
<div *ngIf="uitslagenError" class="error-message">
  Kan uitslagen niet ophalen. Controleer je internetverbinding.
</div>

<div class="titel-container">
  <img src="assets/logo.png" alt="image" />
  <div class="titel">
    {{ hasProgramma || !hasUitslagen ? "Kleedkamerindeling" : "Uitslagen" }}
  </div>
  <img src="assets/logo.png" alt="image" />
</div>

<table class="table-container" *ngIf="hasProgramma">
  <thead>
    <td></td>
    <td>{{ sleutelMatch ? "Kl+Kast" : "Kl" }}</td>
    <td>Thuis</td>
    <td>Gasten</td>
    <td>{{ sleutelMatch ? "Kl+Kast" : "Kl" }}</td>
    <td>Veld</td>
    <td>Scheidsrechter</td>
    <td>Kl</td>
  </thead>
  <tr
    *ngFor="let wedstrijd of programma$ | async; trackBy: trackByWedstrijdCode"
    [class.afgelast]="wedstrijd.afgelast"
    [class.gestart]="wedstrijd.isGestart"
  >
    <td>
      {{ numberOfDays > 0 ? wedstrijd.datum : "" }} {{ wedstrijd.aanvangstijd }}
    </td>
    <td class="kleedkamer">{{ wedstrijd.kleedkamerthuisteam | kleedkamer }}</td>
    <td>
      <img
        *ngIf="wedstrijd.thuisteamlogo"
        [src]="wedstrijd.thuisteamlogo"
        [alt]="wedstrijd.thuisteam + ' logo'"
        class="team-logo"
        (error)="$event.target.style.display = 'none'"
      />
      {{ wedstrijd.thuisteam }}
    </td>
    <td>
      <img
        *ngIf="wedstrijd.uitteamlogo"
        [src]="wedstrijd.uitteamlogo"
        [alt]="wedstrijd.uitteam + ' logo'"
        class="team-logo"
        (error)="$event.target.style.display = 'none'"
      />
      {{ wedstrijd.uitteam }}
    </td>
    <td class="kleedkamer">{{ wedstrijd.kleedkameruitteam | kleedkamer }}</td>
    <td class="veld">
      {{ wedstrijd.afgelast ? "AFGELAST " : (wedstrijd.veld | veld) }}
    </td>
    <td>{{ wedstrijd.afgelast ? "AFGELAST " : wedstrijd.scheidsrechter }}</td>
    <td>
      {{
        wedstrijd.afgelast ? "AFGELAST " : wedstrijd.kleedkamerscheidsrechter
      }}
    </td>
  </tr>
</table>

<div
  *ngIf="!hasUitslagen && !hasProgramma && !programmaError && !uitslagenError"
  class="geenProgramma"
>
  Vandaag zijn er geen wedstrijden bij Jong Brabant
</div>

<div *ngIf="sleutelMatch" class="sleutel">
  Spullen tijdens de wedstrijd opbergen in de kast. Sleutel is tegen een borg
  verkrijgbaar bij het wedstrijdsecretariaat.
</div>

<table class="table-container" *ngIf="hasUitslagen && !hasProgramma">
  <thead>
    <td>Aanvang</td>
    <td>Jong Brabant</td>
    <td>Uitslag</td>
    <td>Gasten</td>
  </thead>
  <tr *ngFor="let uitslag of uitslagen$ | async">
    <td>{{ uitslag.aanvangstijd }}</td>
    <td class="team-with-logo">
      <span class="team-name">{{ uitslag.thuisteam }}</span>
    </td>
    <td class="veld">{{ uitslag.uitslag }}</td>
    <td class="team-with-logo">
      <span class="team-name">{{ uitslag.uitteam }}</span>
    </td>
  </tr>
</table>

<div class="white-background"></div>
